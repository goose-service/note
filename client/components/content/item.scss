@use '../../scss/mixins';

.item {
  --item-height: 100px;
  --item-radius: 8px;
  position: relative;
  display: grid;
  grid-template-columns: var(--item-height) 1fr;
  align-items: center;
  height: var(--item-height);
  text-decoration: none;
  padding: 0;
  background: var(--color-light);
  border-radius: var(--item-radius);
  -webkit-tap-highlight-color: transparent;
  box-shadow:
    0 0 0 .5px hsla(0 0% 0% / 10%),
    0 2px 8px hsla(0 0% 0% / 6%),
    0 4px 20px hsla(0 0% 0% / 15%);
  transition: opacity 160ms ease-out, box-shadow 120ms ease-out;
  &:active {
    box-shadow:
      0 0 0 1px mixins.mix-alpha(var(--color-key), 100%),
      0 0 16px mixins.mix-alpha(var(--color-key), 50%);
  }
  &:focus-visible {
    outline: none;
    &:after {
      content: '';
      display: block;
      position: absolute;
      z-index: 2;
      pointer-events: none;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      border-radius: var(--item-radius);
      @include mixins.focus-outline();
    }
  }
  .image {
    position: relative;
    margin: 0;
    width: 100%;
    height: 100%;
    overflow: clip;
    background: mixins.mix-color(var(--color-edge), var(--color-reverse), 70%);
    box-sizing: border-box;
    user-select: none;
    border-radius: var(--item-radius) 0 0 var(--item-radius);
    img {
      position: absolute;
      left: 50%;
      top: 50%;
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
      translate: -50% -50%;
      scale: 1;
      transform-origin: 50% 50%;
      transition: scale 200ms ease-out 50ms;
    }
    i {
      display: block;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%,-50%);
      --icon-size: 28px;
      --icon-color: var(--color-light);
      --icon-stroke: 1;
    }
    &:active {
      img {
        scale: 1.1;
      }
    }
  }
  .body {
    padding: 0 16px;
    user-select: none;
    min-width: 0;
    h3 {
      display: block;
      margin: 0;
      font-size: 14px;
      color: var(--color-edge);
      font-weight: 600;
      line-height: 1.25;
      @include mixins.text-single-line();
    }
    p {
      display: block;
      margin: 2px 0 0;
      font-family: var(--font-eng);
      font-size: 10px;
      color: var(--color-weak);
      @include mixins.text-single-line();
    }
  }
  @include mixins.dark-mode() {
    background: var(--color-blur);
    .image {
      background: mixins.mix-color(var(--color-edge), var(--color-reverse), 86%);
      i {
        --icon-color: hsl(0 0% 45%);
      }
    }
    .body {
      p {
        color: mixins.mix-alpha(var(--color-text), 50%);
      }
    }
  }
  @include mixins.responsive(tablet) {
    &:hover {
      box-shadow:
        0 0 0 1px mixins.mix-alpha(var(--color-key), 100%),
        0 0 16px mixins.mix-alpha(var(--color-key), 50%);
    }
  }
}
